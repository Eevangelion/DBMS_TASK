# DBMS_TASK
Test task for "Introduction to Database Management Systems" discipline

# Описание
Урезанный аналог Reddit, направленный на публикацию шуток/анекдотов.

## Наименование
FunnyJokes

## Предметная область, данные
Шутки, анекдоты

## Данные и их ограничения
https://drawsql.app/teams/test-team-30/diagrams/jokesdiagram

## Общие ограничения целостности
- Тэги могут добавлять в базу данных/удалять из базы данных только администраторы
- Каждый пользователь может редактировать только свои шутки
- Каждый пользователь может добавлять шутки только в своё избранное
- Пользователь не может отправлять жалобы на свою же шутку
- Максимальная длина типа text - 4096 знаков
- Рейтинг - неотрицательное целое число

# Пользовательские роли
- Администратор
- Пользователь
- Неавторизированный пользователь

## Для каждой роли - наименование, ответственность, количество пользователей в этой роли?
- Администратор - рассматривает жалобы пользователей посредством интерфейса на своей странице. Может добавлять новые тэги и блокировать пользователей (заблокированные пользователи не смогут публиковать свои шутки на протяжении 7 дней с начала бана)
- Пользователь - может добавлять/удалять собственные шутки на сайт, просматривать шутки других, добавлять их в избранное или отправлять на них жалобы (максимум 3 раза за день)
- Неавторизированный пользователь - не имеет доступ ни к какому контенту, пока не авторизуется/зарегистрируется (любой запрос перенаправляет на страницу с регистрацией/авторизацией)

# UI 
- Страница ленты, где будут публиковаться шутки людей, на которых пользователь подписан (будет возможность отсортировать шутки по рейтингу за 24 часа, 1 неделя, 1 месяц, всё время)
- Поиск шуток/людей (интерфейс такой же, как у ленты, меняется только содержимое)
- Личная страница, где пользователь может опубликовать свои шутки (или же страница другого пользователя. отличие лишь в том, что на чужой странице будет ограничен доступ к публикации шуток)
- Страница с настройками. Для администраторов будет добавлена отдельная вкладка с интерфейсом, который позволяет просматривать жалобы на других пользователей и добавлять тэги
- Страница с регистрацией (поля email, username, password) / авторизацией (поля email, password)
- Создание шутки (всплывающее окно в личной странице)

# API
- `GET` `/feed/new/?page=<int>` | `/feed/?page=<int>` - получить страницу ленты (по дефолту новые шутки)
- `GET` `/feed/top/?t={hour | day | week | month | all}?page=<int>` - получить страницу ленты, где шутки отсортированы по возрастанию популярности
- `GET` `/settings/profile` - получить страницу с настройками профиля
- `GET` `/settings/develop` - получить страницу с интерфейсом для администраторов
- `GET` `/user/{username}` | `/user/{username}/?sort=new` - получить страницу с данными пользователя (по дефолту новые шутки)
- `GET` `/user/{username}/?sort=top?t={hour | day | week | month | all}` - отсортировать по возрастанию популярности
- `GET` `/search/?q=<string>?t=keyword` - поиск по ключевому слову
- `GET` `/search/?q=<string>?t=tag` - поиск по тэгу
- `GET` `/search/?q=<string>?t=people` - поиск людей
- `POST` `/user/{username}/create_joke` - создать шутку
- `POST` `/user/{username}/post_joke` - опубликовать шутку
- `POST` `/feed/{new | top/?t={hour | day | week | month | all} }?page=<int>/post_report/?joke_id=<int>` - отправить жалобу на шутку (из ленты)
- `POST` `/feed/{username}/{new/ | top/?t={hour | day | week | month | all} }?page=<int>/post_report/?joke_id=<int>` - отправить жалобу на шутку (со страницы пользователя)
# Технологии разработки
- Gorilla/Mux
- React
## Язык программирования
- Golang
- JavaScript

## СУБД
PostgreSQL

# Тестирование
"Testing" Go package 

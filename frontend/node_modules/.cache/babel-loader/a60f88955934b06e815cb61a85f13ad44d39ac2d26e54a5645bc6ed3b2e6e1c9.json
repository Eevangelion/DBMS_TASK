{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react';\nconst apiHost = process.env.REACT_APP_API_HOST;\nexport const reportService = createApi({\n  reducerPath: 'reportAPI',\n  baseQuery: fetchBaseQuery({\n    baseUrl: `http://${apiHost}/report`\n  }),\n  endpoints: build => ({\n    createReport: build.mutation({\n      query: (id, report) => {\n        const token = localStorage.getItem('userToken');\n        return {\n          url: `/create`,\n          method: 'POST',\n          headers: {\n            authorization: `${token}`\n          },\n          body: {\n            id,\n            report\n          }\n        };\n      }\n    })\n  })\n});\nexport const {\n  useCreateReportMutation\n} = reportService;","map":{"version":3,"names":["createApi","fetchBaseQuery","apiHost","process","env","REACT_APP_API_HOST","reportService","reducerPath","baseQuery","baseUrl","endpoints","build","createReport","mutation","query","id","report","token","localStorage","getItem","url","method","headers","authorization","body","useCreateReportMutation"],"sources":["/home/ivan/working/DBMS_TASK/frontend/src/services/report.js"],"sourcesContent":["import {createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react'\n\nconst apiHost = process.env.REACT_APP_API_HOST;\n\n\nexport const reportService = createApi({\n    reducerPath: 'reportAPI',\n    baseQuery: fetchBaseQuery({ baseUrl: `http://${apiHost}/report`}),\n    endpoints: (build) => ({\n        createReport: build.mutation({\n            query: (id, report) => {\n                const token = localStorage.getItem('userToken');\n                return {\n                    url: `/create`,\n                    method: 'POST',\n                    headers: {authorization: `${token}`},\n                    body: {id, report}\n                }\n            },\n        })\n    })\n})\n\nexport const {\n    useCreateReportMutation\n} = reportService;"],"mappings":"AAAA,SAAQA,SAAS,EAAEC,cAAc,QAAQ,mCAAmC;AAE5E,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB;AAG9C,OAAO,MAAMC,aAAa,GAAGN,SAAS,CAAC;EACnCO,WAAW,EAAE,WAAW;EACxBC,SAAS,EAAEP,cAAc,CAAC;IAAEQ,OAAO,EAAG,UAASP,OAAQ;EAAQ,CAAC,CAAC;EACjEQ,SAAS,EAAGC,KAAK,KAAM;IACnBC,YAAY,EAAED,KAAK,CAACE,QAAQ,CAAC;MACzBC,KAAK,EAAE,CAACC,EAAE,EAAEC,MAAM,KAAK;QACnB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;QAC/C,OAAO;UACHC,GAAG,EAAG,SAAQ;UACdC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YAACC,aAAa,EAAG,GAAEN,KAAM;UAAC,CAAC;UACpCO,IAAI,EAAE;YAACT,EAAE;YAAEC;UAAM;QACrB,CAAC;MACL;IACJ,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AAEF,OAAO,MAAM;EACTS;AACJ,CAAC,GAAGnB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}
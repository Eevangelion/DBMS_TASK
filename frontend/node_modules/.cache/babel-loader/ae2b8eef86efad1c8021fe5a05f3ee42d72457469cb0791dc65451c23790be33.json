{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react';\nconst apiHost = process.env.REACT_APP_API_HOST;\nexport const feedService = createApi({\n  reducerPath: 'feedAPI',\n  baseQuery: fetchBaseQuery({\n    baseUrl: `http://${apiHost}/feed`\n  }),\n  endpoints: build => ({\n    getJokes: build.query({\n      query: function () {\n        const token = localStorage.getItem('userToken');\n        for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n          params[_key] = arguments[_key];\n        }\n        const sort = params.sortBy ? params.sortBy === \"top\" ? params.t : params.sortBy : 'new';\n        const page = params.page;\n        const args = params.page ? {\n          sortArg,\n          pageArg\n        } : {\n          sortArg\n        };\n        return {\n          url: '',\n          headers: {\n            authorization: `${token}`\n          },\n          params: args\n        };\n      }\n    })\n  })\n});","map":{"version":3,"names":["createApi","fetchBaseQuery","apiHost","process","env","REACT_APP_API_HOST","feedService","reducerPath","baseQuery","baseUrl","endpoints","build","getJokes","query","token","localStorage","getItem","params","sort","sortBy","t","page","args","sortArg","pageArg","url","headers","authorization"],"sources":["/home/ivan/working/DBMS_TASK/frontend/src/services/Feed.js"],"sourcesContent":["import {createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react'\n\nconst apiHost = process.env.REACT_APP_API_HOST;\n\n\nexport const feedService = createApi({\n    reducerPath: 'feedAPI',\n    baseQuery: fetchBaseQuery({ baseUrl: `http://${apiHost}/feed`}),\n    endpoints: (build) => ({\n        getJokes: build.query({\n            query: (...params) => {\n                const token = localStorage.getItem('userToken');\n                const sort = params.sortBy ? (params.sortBy === \"top\" ? params.t : params.sortBy) : 'new';\n                const page = params.page;\n                const args = params.page ? {sortArg, pageArg} : {sortArg}\n                return {\n                    url: '',\n                    headers: {authorization: `${token}`},\n                    params: args\n                }\n            },\n        }),\n    })\n})"],"mappings":"AAAA,SAAQA,SAAS,EAAEC,cAAc,QAAQ,mCAAmC;AAE5E,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB;AAG9C,OAAO,MAAMC,WAAW,GAAGN,SAAS,CAAC;EACjCO,WAAW,EAAE,SAAS;EACtBC,SAAS,EAAEP,cAAc,CAAC;IAAEQ,OAAO,EAAG,UAASP,OAAQ;EAAM,CAAC,CAAC;EAC/DQ,SAAS,EAAGC,KAAK,KAAM;IACnBC,QAAQ,EAAED,KAAK,CAACE,KAAK,CAAC;MAClBA,KAAK,EAAE,YAAe;QAClB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;QAAC,kCADzCC,MAAM;UAANA,MAAM;QAAA;QAEb,MAAMC,IAAI,GAAGD,MAAM,CAACE,MAAM,GAAIF,MAAM,CAACE,MAAM,KAAK,KAAK,GAAGF,MAAM,CAACG,CAAC,GAAGH,MAAM,CAACE,MAAM,GAAI,KAAK;QACzF,MAAME,IAAI,GAAGJ,MAAM,CAACI,IAAI;QACxB,MAAMC,IAAI,GAAGL,MAAM,CAACI,IAAI,GAAG;UAACE,OAAO;UAAEC;QAAO,CAAC,GAAG;UAACD;QAAO,CAAC;QACzD,OAAO;UACHE,GAAG,EAAE,EAAE;UACPC,OAAO,EAAE;YAACC,aAAa,EAAG,GAAEb,KAAM;UAAC,CAAC;UACpCG,MAAM,EAAEK;QACZ,CAAC;MACL;IACJ,CAAC;EACL,CAAC;AACL,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
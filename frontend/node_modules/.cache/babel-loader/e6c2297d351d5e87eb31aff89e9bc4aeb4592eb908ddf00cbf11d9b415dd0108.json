{"ast":null,"code":"import React, { createContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from '../hooks/redux';\nimport { getAccessToken, getJWToken, getUserInfo } from '../store/actions/authActions';\nimport { logout } from '../store/reducers/AuthSlice';\nimport { clean } from '../store/reducers/UserSlice';\nexport const AuthContext = /*#__PURE__*/createContext(null);\nexport function AuthProvider(_ref) {\n  let {\n    children\n  } = _ref;\n} // const dispatch = useAppDispatch(); \n// const navigate = useNavigate();\n// const user = useAppSelector(state => state.VkAuth.user);\n// const token = localStorage.getItem('userToken');    \n\n// const signin = () => { \n//     return dispatch(getAccessToken())\n//         .then(() => \n//             dispatch(getJWToken())\n//                 .then(() => \n//                     dispatch(getUserInfo())\n//                 )\n//         );                 \n// };\n\n// if (token && !user) {\n//     dispatch(getUserInfo()).catch(() => signin());\n// };\n\n// const signout = () => {\n//     dispatch(clean());\n//     navigate('../');\n//     window.scrollTo(0,0);\n//     return dispatch(logout());\n// };\n\n// const value = { user, signin, signout };\n\n// return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n_c = AuthProvider;\n;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useNavigate","useAppDispatch","useAppSelector","getAccessToken","getJWToken","getUserInfo","logout","clean","AuthContext","AuthProvider","children"],"sources":["/home/ivan/working/DBMS_TASK/frontend/src/context/context.js"],"sourcesContent":["import React, { createContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from '../hooks/redux';\nimport { getAccessToken, getJWToken, getUserInfo } from '../store/actions/authActions';\nimport { logout } from '../store/reducers/AuthSlice';\nimport { clean } from '../store/reducers/UserSlice';\n\nexport const AuthContext = createContext(null);\n\nexport function AuthProvider({ children }) {\n\n    // const dispatch = useAppDispatch(); \n    // const navigate = useNavigate();\n    // const user = useAppSelector(state => state.VkAuth.user);\n    // const token = localStorage.getItem('userToken');    \n\n    // const signin = () => { \n    //     return dispatch(getAccessToken())\n    //         .then(() => \n    //             dispatch(getJWToken())\n    //                 .then(() => \n    //                     dispatch(getUserInfo())\n    //                 )\n    //         );                 \n    // };\n\n    // if (token && !user) {\n    //     dispatch(getUserInfo()).catch(() => signin());\n    // };\n\n    // const signout = () => {\n    //     dispatch(clean());\n    //     navigate('../');\n    //     window.scrollTo(0,0);\n    //     return dispatch(logout());\n    // };\n\n    // const value = { user, signin, signout };\n\n    // return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,aAAa,QAAQ,OAAO;AAC5C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,cAAc,EAAEC,cAAc,QAAQ,gBAAgB;AAC/D,SAASC,cAAc,EAAEC,UAAU,EAAEC,WAAW,QAAQ,8BAA8B;AACtF,SAASC,MAAM,QAAQ,6BAA6B;AACpD,SAASC,KAAK,QAAQ,6BAA6B;AAEnD,OAAO,MAAMC,WAAW,gBAAGT,aAAa,CAAC,IAAI,CAAC;AAE9C,OAAO,SAASU,YAAY,OAAe;EAAA,IAAd;IAAEC;EAAS,CAAC;AA+BzC,CAAC,CA7BG;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACH,KA/BeD,YAAY;AA+B3B;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
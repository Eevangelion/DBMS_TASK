{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react';\nconst apiHost = process.env.REACT_APP_API_HOST;\nexport const settingsService = createApi({\n  reducerPath: 'settingsAPI',\n  baseQuery: fetchBaseQuery({\n    baseUrl: `http://${apiHost}/settings`\n  }),\n  endpoints: build => ({\n    getSettings: build.query({\n      query: () => {\n        const token = localStorage.getItem('userToken');\n        return {\n          url: '',\n          headers: {\n            authorization: `${token}`\n          }\n        };\n      }\n    }),\n    applyReport: build.mutation({\n      query: id => {\n        const token = localStorage.getItem('userToken');\n        return {\n          url: `/develop/apply_report`,\n          method: 'POST',\n          headers: {\n            authorization: `${token}`\n          },\n          body: {\n            id\n          }\n        };\n      }\n    }),\n    denyReport: build.mutation({\n      query: id => {\n        const token = localStorage.getItem('userToken');\n        return {\n          url: `/develop/deny_report`,\n          method: 'POST',\n          headers: {\n            authorization: `${token}`\n          },\n          body: {\n            id\n          }\n        };\n      }\n    })\n  })\n});\nexport const {\n  useGetSettingsQuery,\n  useApplyReportMutation,\n  useDenyReportMutation\n} = settingsService;","map":{"version":3,"names":["createApi","fetchBaseQuery","apiHost","process","env","REACT_APP_API_HOST","settingsService","reducerPath","baseQuery","baseUrl","endpoints","build","getSettings","query","token","localStorage","getItem","url","headers","authorization","applyReport","mutation","id","method","body","denyReport","useGetSettingsQuery","useApplyReportMutation","useDenyReportMutation"],"sources":["/home/ivan/working/DBMS_TASK/frontend/src/services/Settings.js"],"sourcesContent":["import {createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react'\n\nconst apiHost = process.env.REACT_APP_API_HOST;\n\n\nexport const settingsService = createApi({\n    reducerPath: 'settingsAPI',\n    baseQuery: fetchBaseQuery({ baseUrl: `http://${apiHost}/settings`}),\n    endpoints: (build) => ({\n        getSettings: build.query({\n            query: () => {\n                const token = localStorage.getItem('userToken');\n                return {\n                    url: '',\n                    headers: {authorization: `${token}`},\n                }\n            },\n        }),\n        applyReport: build.mutation({\n            query: (id) => {\n                const token = localStorage.getItem('userToken');\n                return {\n                    url: `/develop/apply_report`,\n                    method: 'POST',\n                    headers: {authorization: `${token}`},\n                    body: {id}\n                }\n            },\n        }),\n        denyReport: build.mutation({\n            query: (id) => {\n                const token = localStorage.getItem('userToken');\n                return {\n                    url: `/develop/deny_report`,\n                    method: 'POST',\n                    headers: {authorization: `${token}`},\n                    body: {id}\n                }\n            },\n        }),\n    })\n})\n\nexport const {\n    useGetSettingsQuery,\n    useApplyReportMutation,\n    useDenyReportMutation\n} = settingsService;"],"mappings":"AAAA,SAAQA,SAAS,EAAEC,cAAc,QAAQ,mCAAmC;AAE5E,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB;AAG9C,OAAO,MAAMC,eAAe,GAAGN,SAAS,CAAC;EACrCO,WAAW,EAAE,aAAa;EAC1BC,SAAS,EAAEP,cAAc,CAAC;IAAEQ,OAAO,EAAG,UAASP,OAAQ;EAAU,CAAC,CAAC;EACnEQ,SAAS,EAAGC,KAAK,KAAM;IACnBC,WAAW,EAAED,KAAK,CAACE,KAAK,CAAC;MACrBA,KAAK,EAAE,MAAM;QACT,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;QAC/C,OAAO;UACHC,GAAG,EAAE,EAAE;UACPC,OAAO,EAAE;YAACC,aAAa,EAAG,GAAEL,KAAM;UAAC;QACvC,CAAC;MACL;IACJ,CAAC,CAAC;IACFM,WAAW,EAAET,KAAK,CAACU,QAAQ,CAAC;MACxBR,KAAK,EAAGS,EAAE,IAAK;QACX,MAAMR,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;QAC/C,OAAO;UACHC,GAAG,EAAG,uBAAsB;UAC5BM,MAAM,EAAE,MAAM;UACdL,OAAO,EAAE;YAACC,aAAa,EAAG,GAAEL,KAAM;UAAC,CAAC;UACpCU,IAAI,EAAE;YAACF;UAAE;QACb,CAAC;MACL;IACJ,CAAC,CAAC;IACFG,UAAU,EAAEd,KAAK,CAACU,QAAQ,CAAC;MACvBR,KAAK,EAAGS,EAAE,IAAK;QACX,MAAMR,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;QAC/C,OAAO;UACHC,GAAG,EAAG,sBAAqB;UAC3BM,MAAM,EAAE,MAAM;UACdL,OAAO,EAAE;YAACC,aAAa,EAAG,GAAEL,KAAM;UAAC,CAAC;UACpCU,IAAI,EAAE;YAACF;UAAE;QACb,CAAC;MACL;IACJ,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AAEF,OAAO,MAAM;EACTI,mBAAmB;EACnBC,sBAAsB;EACtBC;AACJ,CAAC,GAAGtB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}